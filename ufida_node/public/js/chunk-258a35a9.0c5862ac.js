(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-258a35a9"],{"66b0":function(e,t,a){},"6c9b":function(e,t,a){"use strict";a("66b0")},"9fe5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"servicedatequery"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-page-header",{attrs:{content:"客户电子发票查询"},on:{back:e.goBack}})],1),a("h3",[e._v("电子发票查询")]),a("div",{staticClass:"search"},[a("div",{staticClass:"search_list"},[a("span",{staticStyle:{width:"50px"}},[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",{staticClass:"doc_number"},[a("span",[e._v("单据号：")]),a("el-input",{attrs:{type:"text",placeholder:"请输入单据号",size:"small"},model:{value:e.doc_number,callback:function(t){e.doc_number=t},expression:"doc_number"}})],1),a("div",{staticClass:"member"},[a("span",[e._v("单位名称：")]),a("el-input",{attrs:{type:"text",placeholder:"请输入单位名称",size:"small"},model:{value:e.member,callback:function(t){e.member=t},expression:"member"}})],1),a("el-button",{staticClass:"el-icon-search",attrs:{size:"small"},on:{click:e.submitResult}},[e._v("查询")])],1),a("el-divider",[e._v("查询结果")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmpty,expression:"!isEmpty"}],staticClass:"searchResault"},[a("p",[e._v("药品质量档案")]),a("RightTable",{attrs:{tableData:e.tableData},on:{checkEmpty:e.checkEmpty}})],1),a("el-empty",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty,expression:"isEmpty"}],attrs:{description:"描述文字"}})],1)],1)},l=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:!0,"max-height":"350","default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"rq",label:"日期",sortable:"",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"djbh",label:"单据编号",align:"center",width:"110"}}),a("el-table-column",{attrs:{prop:"dwmch",label:"单位名称",align:"center",width:"150"}}),a("el-table-column",{attrs:{prop:"ywy",label:"业务员",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"hsje",label:"含税金额",align:"center",width:"110"}}),a("el-table-column",{attrs:{prop:"fapiaoh",label:"发票号",align:"center",width:"110"}}),a("el-table-column",{attrs:{prop:"linkurl",label:"发票下载地址",align:"center",width:"250"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.linkurl,download:t.row.fapiaoh}},[a("el-button",{attrs:{size:"mini"}},[e._v("点击下载")])],1)]}}])})],1)],1)},r=[],n={name:"RightTable",props:["tableData"],watch:{tableData:{handler(e){this.$emit("checkEmpty",e)},immediate:!0}}},c=n,o=(a("6c9b"),a("2877")),d=Object(o["a"])(c,i,r,!1,null,"139abe56",null),m=d.exports,h={name:"ServiceDataQuery",components:{RightTable:m},data(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},date:"",member:"",doc_number:"",isEmpty:!1,tableData:[]}},watch:{date:{handler(e){e?e.forEach((t,a)=>{const{y:s,m:l,d:i}=this.formatDate(t);e[a]=`${s}-${l}-${i}`}):this.date=""},deep:!0}},methods:{formatDate(e){let t=new Date(e);var a=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,l=t.getDate()<10?"0"+t.getDate():t.getDate();return{y:a,m:s,d:l}},getCurrentTime(){let e=new Date;const{y:t,m:a,d:s}=this.formatDate(e);this.date=[],this.date[0]=`${t}-${a}-01`,this.date[1]=`${t}-${a}-${s}`},goBack(){this.$router.push("/DataCenter")},checkEmpty(e){0===e.length?this.isEmpty=!0:this.isEmpty=!1},async submitResult(){const{data:e}=await this.$http.post("/catalogue/getData",{start_rq:this.date[0],end_rq:this.date[1],djbh:this.doc_number,dwmch:this.member,username:this.$store.state.dzyname});if(200!=e.code)return this.tableData=[],void this.$message.success(e.value);this.tableData=e.data,this.$message.success(e.value)}},created(){this.getCurrentTime()}},p=h,u=(a("f144"),Object(o["a"])(p,s,l,!1,null,"25e437f4",null));t["default"]=u.exports},abd0:function(e,t,a){},f144:function(e,t,a){"use strict";a("abd0")}}]);
//# sourceMappingURL=chunk-258a35a9.0c5862ac.js.map